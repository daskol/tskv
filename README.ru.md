# tskv

*Tab-Separated Key-Value format*

## Описание

Формат представления данных в виде списка пар ключ-значние, разделённых символом табуляции. Предполагается, что все не ASCII-символы экранируются, что позволяет хранить не только текстовые значние или строки не стандртной кодировки. Формат представления данных создан как aналог CSV для построчного хранения данных, поэтому каждая строка должна содержать в качестве префикса `tskv`, а все символы управления кареткой должны быть экранированны как и символ равенства `=` из-за того, что используется в качетве разделителя пары ключ-значение.

Несмотря на то, что формат текстовый, можно текстовые значения закодированные файле можно пытаться извлекать из самого значения. Сейчас поддерживается следующая конверсия строковых значений к следующим типам данных:

- булево значение `bool`(True, False);
- число с плавающей точкой `float`(3.14, 1.6e-19);
- целое число `int`(42, -273);
- строковое значение `str`, если невозможно привести значение к другому типу.

Например, словарь содержащий метку времени `timestamp` и строку запроса `request`
```python
    {'request': 'GET /admin/login HTTP/2.0',
     'timestamp': '22/Aug/2016:06:48:01 +0300'}
```
преобразуется в следующую строку.
```
    tskv    timestamp=22/Aug/2016:06:48:01 +0300    request=GET /admin/login HTTP/2.0
```

Порядок пар ключ-значение в строке ничем не ограничевается ровно как и присутствие всех ключей в строке tskv-файла.

## Установка и тестирование

Обычную установку можновы полнить стандартно из PyPI
```bash
    pip install tskv
```
Для установки самой свежей версии из исходных кодов достаточно клонировать репозитарий и установить обычным образом
```bash
    git clone git@github.com:daskol/tskv.git
    python tskv/setup.py
```
Затем для проверки работоспособности выполнить тесты
```bash
    python -m unittest discover tskv/tests/
```
